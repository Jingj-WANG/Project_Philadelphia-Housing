# Philadelphia-Housing

**Project Title**: Philadelphia Housing and Property Value Investigation  
Team Members: Shusaku Asai, Congjun Huang, Jingjing Wang   

### Motivation  
Housing and property princes in the United States are rapidly growing. The National Association of Realtors shows that the median home price in January of 2022 increased by 15.4% from January of 2021 (1). RenoFi, an American loan company reported that house prices have risen 48.55% from 2010 to 2020 and are projected to grow (2). Further, despite the economic burdens from the pandemic, demand for home buying is steadily increasing. Researchers at Zillow have shown that housing demand is increasing due to remote work possibilities and underlying demographic characteristics (3). The growing home sale prices are also seen in urban areas (4). This is especially of interest because according to Statistica, the degree of urbanization in the US has been steadily increasing from 1970 to 2020 (5).      

Given the steady demand for a house and the growing prices of homes, we believe there exists a need to investigate the characteristics that determine the market value of homes in urban areas. This investigation is interesting and worth pursuing because the purchasing of a home is a major milestone and financial asset in an individual’s life. Furthermore, the increasing propensity for Americans to live in urban areas motivates the need to understand the characteristics of homes that are most predictive of a home’s market value. Our investigation will include an exploratory analysis of housing prices in an urban area of the United States and the implementation of various predictive machine learning algorithms that aim to predict the market value of a home given its amenities, features, and location.    

### Data   
Our investigation will utilize the Philadelphia Properties and Assessment History data publicly available on “OpenDataPhilly“ (6). The csv file contains information on properties in the city of Philadelphia. Each property in the data is considered a Single Family Home, Multi-Family Home, Vacant Land, Mixed Use Property, Industrial Property, or Commercial Property. Each property has various information including: location, depth, fireplaces, fuel type, condition, market value, bathrooms, bedrooms, stories, total area, year built, and zoning district. A comprehensive data dictionary can also be found on a separate “OpenDataPhilly” page (7). The data has approximately 580,000 rows and 78 columns.    

### Methods   
The project methodology can be categorized into 4 main portions. These include: (1) Exploratory Data Analysis, (2) Model training and validation, (3) Model testing, and (4) Model deployment.  
(1) Exploratory Data Analysis:  
The project will begin with the exploration of the dataset. We will perform various visualizations by outputting plots of the outcome of interest (home market value) and the predictors of interest (location, depth, fireplaces, fuel type, condition, market value, bathrooms, bedrooms, etc.). We will also supplement these visualizations with summary statistics of the outcome variable and predictors of interest. These plots and summarizations will help guide our understanding of the distributions in the data as well as our future modeling.  
(2) Model training and validation:  
We will first begin by splitting our data randomly into training, validation, and test sets. The training and validation sets will be used to select a final predictive model for deployment. We aim to model the Market Value of Single Family and  Multi-Family Homes, a continuous outcome.    
We will attempt various machine learning models of varying complexities for a continuous outcome such as multiple linear regression, random forest, XGBoost, and Neural Networks. We will then evaluate the performance of these models with metrics such as mean squared error and root mean squared error. Note that the test dataset will not be used until the “Model testing” portion of the project. Our model selection approach will improve upon the framework of many general models by optimizing the various hyperparameters associated with each model. For example, when fitting a random forest on the outcome, the team intends to optimize hyperparameters such as  tree depth and minimum data points per node that will result in the total minimization of the model cost. These hyperparameter tuning approaches will be applied to various models.    
Time permitting, we will try predicting the property type (a categorical feature that has outcomes: Single Family Home, Multi-Family Home, Vacant Land, Mixed Use Property, Industrial Property, or Commercial Property). In a similar fashion to the continuous outcome, we will try a suite of models to select a model that best predicts the type of property (categorical outcome). These models will also range in complexity from multinomial logistic regression to Neural Networks. The model will be evaluated on metrics suited for multi-class classification problems. These include the multi-class confusion matrix, micro average F1 score, and macro average F1 score.    
(3) Model testing:   
After selecting one model that fits best from our training and validation steps, we intend to test the model performance on a test dataset. This test dataset will be partitioned at the beginning of the study and will not be used until this step. This approach will provide information on the final model’s generalization to unseen data. The same evaluation metrics (MSE, RMSE) will be used to test the model’s generalization performance on new data. (The multi-class confusion matrix, micro average F1 score, and macro average F1 score metrics will be used for the classification problem).    
(4) Model deployment:    
The model will then be deployed via a dashboard or interactive visualization tool. We intend to create visualization tools that allow users to interact with the data and model. The dashboard will give key model metrics (important predictors, predictor distributions), key predictors, and predictions on the training and test data.    

### Experiments    
The group will perform three main experiments:    
Test the final model’s generalization performance on test data from the data split explained in the “Model training and validation” section of the proposal. The performance on the test data can then be compared to the model performance from training (training performance acts as baseline).    
Test the final model’s generalization performance on test data, not from the original test to training data split. This will be done in one of two methods. In the first method, we find data from a different urban area (i.e., New York City or Seattle) that contains the same predictors and outcome. We aim to prepare the data from the different city such that new predictions can be made on this data. The consequent predictions can then be assessed on the same performance quantities such as RMSE and MSE. These metrics will yield generalization metrics of the model.      
The second method is to use unseen “OpenDataPhilly“ data. This dataset is refreshed daily on the “OpenDataPhilly“ website and new properties are added daily. After training various models from one time point, we can find new properties that have been added at a later time point. We can then test how our model (trained on data from one point in time) performs on future data points (new homes added to the dataset). The performance of the model on new data will be assessed in the same fashion as previously stated. Predictions are assessed on RMSE and MSE.    
Time permitting, we will try predicting the property type (a categorical feature that has outcomes: Single Family Home, Multi-Family Home, Vacant Land, Mixed Use Property, Industrial Property, or Commercial Property). We will also make predictions on newly released data in Philadelphia or data from a new city if comparable data can be found. However, we expect that data that includes all of these property types to be scarce. The model on unseen data will be assessed on the multi-class confusion matrix, micro average F1 score, and macro average F1 score metrics.     

### References   
1. https://www.nar.realtor/newsroom/existing-home-sales-surge-6-7-in-january    
2. https://www.renofi.com/blog/projecting-the-value-of-homes-in-the-us-in-2030-analyzing-the-impact-of-covid-19/   
3. https://www.zillow.com/research/housing-permits-shortfall-2021-30373/   
4. https://www.prnewswire.com/news-releases/home-prices-in-cities-rise-16-surpassing-suburban-and-rural-price-growth-for-the-first-time-since-before-pandemic-301240469.html   
5. https://www.statista.com/statistics/269967/urbanization-in-the-united-states/   
6. https://www.opendataphilly.org/dataset/opa-property-assessments   
7. https://metadata.phila.gov/#home/datasetdetails/5543865f20583086178c4ee5/representationdetails/55d624fdad35c7e854cb21a4/?view_287_page=1   
